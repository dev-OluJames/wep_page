{"version":3,"sources":["webpack:///./src/views/Admin/Roles.vue?d263","webpack:///./src/views/Tables/RegularTables/table_roles.vue?6525","webpack:///./src/views/Admin/Roles.vue?c567","webpack:///./src/views/Tables/RegularTables/table_roles.vue?ea4e","webpack:///./src/components/Modals/addRoleModal.vue?8193","webpack:///src/components/Modals/addRoleModal.vue","webpack:///./src/components/Modals/addRoleModal.vue?d5a3","webpack:///./src/components/Modals/addRoleModal.vue","webpack:///src/views/Tables/RegularTables/table_roles.vue","webpack:///./src/views/Tables/RegularTables/table_roles.vue?460c","webpack:///./src/views/Tables/RegularTables/table_roles.vue?1498","webpack:///src/views/Admin/Roles.vue","webpack:///./src/views/Admin/Roles.vue?1cf5","webpack:///./src/views/Admin/Roles.vue?a4b5"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","_v","on","triggerModal","show","list","scopedSlots","_u","key","fn","ref","row","_s","name","permissions","userscount","model","value","callback","$$v","currentPage","expression","activate","deactivate","trigger","$event","slot","role","$set","staticStyle","selectTables","removePermissions","table_list","_l","option","index","id","select_table","directives","rawName","accordion","check","id_check","addRole","props","type","Boolean","default","data","modal","tables","selectedTables","check_list","created","getPermissions","methods","$emit","permissionsResource","console","log","error","getTables","forEach","table","list_name","includes","list_permit","push","length","check_permissions","table_id","permission","nbr","values","selectedPermissions","val","returned_permissions","capitalizeFirstLetter","string","charAt","toUpperCase","slice","component","components","getRoles","roleResource"],"mappings":"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","file":"js/roles.07152301.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table_roles.vue?vue&type=style&index=0&id=fecdd148&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table_roles.vue?vue&type=style&index=0&id=fecdd148&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-header',{staticClass:\"pb-6 pb-8 pt-5 pt-md-8 bg-gradient-success\"}),_c('b-container',{staticClass:\"mt--7\",attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',[_c('roles-list')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"border-0\"},[_c('b-row',[_c('b-col',{staticClass:\"col-6\"},[_c('h3',{staticClass:\"mb-0\"},[_vm._v(\"Roles\")])]),_c('b-col',{staticClass:\"col-6 text-right\"},[_c('base-button',{staticClass:\"btn btn-sm btn-primary btn-round btn-icon\",attrs:{\"data-toggle\":\"tooltip\",\"data-original-title\":\"Edit product\"},on:{\"click\":_vm.triggerModal}},[_c('span',{staticClass:\"btn-inner--icon\"},[_c('i',{staticClass:\"fas fa-key\"})]),_c('span',{staticClass:\"btn-inner--text\"},[_vm._v(\"Ajouter\")])])],1)],1)],1),_c('vue-element-loading',{attrs:{\"active\":_vm.show,\"spinner\":\"bar-fade-scale\",\"color\":\"#2dce94\"}}),_c('el-table',{staticClass:\"table-responsive table\",attrs:{\"header-row-class-name\":\"thead-light\",\"data\":_vm.list}},[_c('el-table-column',{attrs:{\"label\":\"Roles\",\"prop\":\"roles\",\"min-width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticClass:\"status\"},[_vm._v(_vm._s(row.name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"permissions\",\"prop\":\"permissions\",\"min-width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticClass:\"status\"},[_vm._v(_vm._s(row.permissions))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Nombre Utilisateur\",\"min-width\":\"150px\",\"prop\":\"userscount\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticClass:\"status\"},[_vm._v(_vm._s(row.userscount))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Action\",\"prop\":\"completion\",\"min-width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticClass:\"text-sm\"},[_c('a',{attrs:{\"href\":\"javascript:;\",\"data-bs-toggle\":\"tooltip\",\"data-bs-original-title\":\"Preview product\"}},[_c('i',{staticClass:\"fas fa-eye text-secondary\",attrs:{\"aria-hidden\":\"true\"}})]),_c('a',{staticClass:\"mx-3\",attrs:{\"href\":\"javascript:;\",\"data-bs-toggle\":\"tooltip\",\"data-bs-original-title\":\"Edit product\"}},[_c('i',{staticClass:\"fas fa-user-edit text-secondary\",attrs:{\"aria-hidden\":\"true\"}})]),_c('a',{attrs:{\"href\":\"javascript:;\",\"data-bs-toggle\":\"tooltip\",\"data-bs-original-title\":\"Delete product\"}},[_c('i',{staticClass:\"fas fa-trash text-secondary\",attrs:{\"aria-hidden\":\"true\"}})])])]}}])})],1),_c('b-card-footer',{staticClass:\"py-4 d-flex justify-content-end\"},[_c('base-pagination',{attrs:{\"per-page\":10,\"total\":50},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_c('add-role-modal',{attrs:{\"trigger\":_vm.activate},on:{\"opened\":_vm.deactivate}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"show\":_vm.trigger},on:{\"update:show\":function($event){_vm.trigger=$event},\"close\":_vm.triggerModal}},[_c('h5',{staticClass:\"modal-title\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Ajout de Role\")]),_c('h5',[_vm._v(\"Role\")]),_c('b-form-input',{attrs:{\"size\":\"sm\",\"placeholder\":\"Role\"},model:{value:(_vm.role.name),callback:function ($$v) {_vm.$set(_vm.role, \"name\", $$v)},expression:\"role.name\"}}),_c('h5',[_vm._v(\"Permissions\")]),_c('b-form-group',[_c('b-input-group',[_c('el-select',{staticStyle:{\"width\":\"227%\"},attrs:{\"size\":\"small\",\"multiple\":\"multiple\",\"placeholder\":\"selectionez une permission...\"},on:{\"change\":_vm.selectTables,\"remove-tag\":_vm.removePermissions},model:{value:(_vm.table_list),callback:function ($$v) {_vm.table_list=$$v},expression:\"table_list\"}},_vm._l((_vm.tables),function(option,index){return _c('el-option',{key:index,attrs:{\"label\":option.name,\"value\":option.id}})}),1)],1)],1),_vm._l((_vm.selectedTables),function(select_table,index){return _c('b-list-group',{key:index,attrs:{\"role\":\"tablist\"}},[_c('b-card',{staticClass:\"mb-1 card\",attrs:{\"no-body\":\"\"}},[_c('b-list-group-item',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:(_vm.accordion + index),expression:\"accordion + index\"}],staticClass:\"card-header\",attrs:{\"header-tag\":\"header\",\"href\":\"#\",\"role\":\"tab\"}},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(_vm._s(select_table.name))])]),_c('b-collapse',{attrs:{\"id\":_vm.accordion + index,\"visible\":\"\",\"accordion\":\"my-accordion\",\"role\":\"tabpanel\"}},[_c('b-card-body',[_c('b-card-text',[_vm._v(\"cochez les permissions de \"+_vm._s(select_table.name)+\" pour ce role.\")]),_vm._l((select_table.checks),function(check,id_check){return _c('div',{key:id_check},[_c('b-form-checkbox-group',{attrs:{\"id\":\"checkboxes-4\"},model:{value:(_vm.role.permissions),callback:function ($$v) {_vm.$set(_vm.role, \"permissions\", $$v)},expression:\"role.permissions\"}},[_c('b-form-checkbox',{attrs:{\"value\":check.id}},[_vm._v(\"\\n                  \"+_vm._s(check.value)+\"\\n                \")])],1)],1)})],2)],1)],1)],1)}),_c('template',{slot:\"footer\"},[_c('base-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRole}},[_vm._v(\"Save changes\")]),_c('base-button',{staticClass:\"ml-auto\",attrs:{\"type\":\"link\"},on:{\"click\":_vm.triggerModal}},[_vm._v(\"Close\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <modal :show.sync=\"trigger\" @close=\"triggerModal\">\n    <h5 slot=\"header\" class=\"modal-title\">Ajout de Role</h5>\n    <h5>Role</h5>\n    <b-form-input v-model=\"role.name\" size=\"sm\" placeholder=\"Role\"></b-form-input>\n    <h5>Permissions</h5>\n    <b-form-group>\n      <b-input-group>\n        <el-select\n          size=\"small\"\n          style=\"width: 227%;\"\n          v-model=\"table_list\"\n          multiple=\"multiple\"\n          @change=\"selectTables\"\n          @remove-tag=\"removePermissions\"\n          placeholder=\"selectionez une permission...\">\n          <el-option v-for=\"(option, index) in tables\"\n                     :key=\"index\"\n                     :label=\"option.name\"\n                     :value=\"option.id\">\n          </el-option>\n        </el-select>\n      </b-input-group>\n    </b-form-group>\n    <b-list-group role=\"tablist\" class=\"\" v-for=\"(select_table, index) in selectedTables\" :key=\"index\">\n      <b-card no-body class=\"mb-1 card\">\n        <b-list-group-item header-tag=\"header\" class=\"card-header\" href=\"#\" role=\"tab\" v-b-toggle = \"accordion + index\">\n          <h5 class=\"mb-0\">{{ select_table.name }}</h5>\n        </b-list-group-item>\n        <b-collapse :id=\"accordion + index\" visible accordion=\"my-accordion\" role=\"tabpanel\">\n          <b-card-body>\n            <b-card-text>cochez les permissions de {{select_table.name}} pour ce role.</b-card-text>\n            <div v-for=\"(check, id_check) in select_table.checks\" :key=\"id_check\">\n                <b-form-checkbox-group\n                  v-model=\"role.permissions\"\n                  id=\"checkboxes-4\"\n                >\n                  <b-form-checkbox :value=\"check.id\" >\n                    {{ check.value }}\n                  </b-form-checkbox>\n                </b-form-checkbox-group>\n            </div>\n          </b-card-body>\n        </b-collapse>\n      </b-card>\n    </b-list-group>\n\n    <template slot=\"footer\">\n      <base-button type=\"primary\" @click=\"addRole\">Save changes</base-button>\n      <base-button type=\"link\" class=\"ml-auto\" @click=\"triggerModal\">Close</base-button>\n    </template>\n  </modal>\n</template>\n\n<script>\nimport Resource from \"../../api/resource\";\nconst permissionsResource = new Resource('permissions');\nexport default {\n  name: \"addRole\",\n  props: {\n    trigger: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data(){\n    return {\n      modal: false,\n      role: {},\n      permissions: [],\n      tables: [],\n      selectedTables: [],\n      table_list: [],\n      accordion: 'accordion-',\n      check_list: [],\n    }\n  },\n  created() {\n    this.getPermissions();\n  },\n  methods:{\n    triggerModal(){\n      this.trigger = false;\n      this.$emit('opened');\n    },\n    getPermissions(){\n      permissionsResource.list()\n      .then((response) => {\n        this.permissions = response.data;\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        console.log('DONE', this.permissions);\n        this.getTables(this.permissions);\n      });\n    },\n    getTables(list){\n      this.tables = [];\n      this.check_list = [];\n      let nbr = 0\n      let table_id = 0;\n      const list_name = [];\n      let list_permit = [];\n      const check_permissions = [];\n      list.forEach((permission) => {\n        const table = this.capitalizeFirstLetter(permission.name.split(' ')[1]);\n        const permit = this.capitalizeFirstLetter(permission.name.split(' ')[0]);\n        console.log(table);\n        if (!list_name.includes(table)){\n          list_name.push(table);\n          if (list_permit.length !== 0){\n            check_permissions.push({'id':table_id, 'values':list_permit})\n            list_permit = [];\n          }\n          list_permit.push({'id': permission.id, 'value':permit});\n          table_id = permission.id;\n          this.tables.push({'id': permission.id,'name': table});\n        } else {\n          list_permit.push({'id': permission.id, 'value':permit});\n        }\n        nbr++;\n        if (nbr === list.length-1){\n          check_permissions.push({'id': table_id, 'values':list_permit});\n        }\n      });\n      check_permissions.forEach((check) => {\n        this.tables.forEach((table) => {\n          if(table.id === check.id){\n            table['checks'] = check.values;\n          }\n        });\n      });\n      console.log('TABLES', this.tables);\n      this.check_list = check_permissions;\n    },\n    selectTables(values){\n      console.log('VALUES', values);\n      let val;\n      this.selectedTables = [];\n      this.selectedPermissions = [];\n      values.forEach((id) => {\n        // console.log('ID: ', id);\n        val = this.tables.filter((table) => {\n          return table.id === id;\n        });\n        this.selectedTables.push(val[0]);\n      });\n    },\n    removePermissions(){\n      if (this.role.permissions && this.role.permissions.length !== 0){\n        let returned_permissions = [];\n        this.selectedTables.forEach((table) => {\n          returned_permissions = this.role.permissions.filter((permissions) => {\n            console.log('TABLE NAME',permissions, table.name);\n            return permissions.includes(table.name)\n          });\n        })\n        this.role.permissions = returned_permissions;\n        console.log('SELECTED TABLES', this.selectedTables);\n        console.log('SELECTED TABLES', this.role.permissions);\n      }\n    },\n    addRole(){\n      console.log('ROLE ENVOYE', this.role);\n    },\n    capitalizeFirstLetter(string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addRoleModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addRoleModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addRoleModal.vue?vue&type=template&id=7b4a50bd&scoped=true&\"\nimport script from \"./addRoleModal.vue?vue&type=script&lang=js&\"\nexport * from \"./addRoleModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b4a50bd\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-card no-body>\n    <b-card-header class=\"border-0\">\n      <b-row>\n        <b-col class=\"col-6\">\n          <h3 class=\"mb-0\">Roles</h3>\n        </b-col>\n        <b-col class=\"col-6 text-right\">\n          <base-button class=\"btn btn-sm btn-primary btn-round btn-icon\" data-toggle=\"tooltip\" data-original-title=\"Edit product\" @click=\"triggerModal\" >\n            <span class=\"btn-inner--icon\"><i class=\"fas fa-key\"></i></span>\n            <span class=\"btn-inner--text\">Ajouter</span>\n          </base-button>\n        </b-col>\n      </b-row>\n    </b-card-header>\n    <vue-element-loading :active=\"show\" spinner=\"bar-fade-scale\" color=\"#2dce94\" />\n    <el-table class=\"table-responsive table\"\n              header-row-class-name=\"thead-light\"\n              :data=\"list\">\n\n      <el-table-column label=\"Roles\"\n                       prop=\"roles\"\n                       min-width=\"150px\">\n        <template v-slot=\"{row}\">\n          <span class=\"status\">{{row.name}}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"permissions\"\n                       prop=\"permissions\"\n                       min-width=\"150px\">\n        <template v-slot=\"{row}\">\n          <span class=\"status\">{{row.permissions}}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"Nombre Utilisateur\"\n                       min-width=\"150px\"\n                       prop=\"userscount\">\n        <template v-slot=\"{row}\">\n          <span class=\"status\">{{row.userscount}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Action\"\n                       prop=\"completion\"\n                       min-width=\"150px\">\n        <template v-slot=\"{row}\">\n                <span class=\"text-sm\">\n                  <a href=\"javascript:;\" data-bs-toggle=\"tooltip\" data-bs-original-title=\"Preview product\">\n                    <i class=\"fas fa-eye text-secondary\" aria-hidden=\"true\"></i>\n                  </a>\n                  <a href=\"javascript:;\" class=\"mx-3\" data-bs-toggle=\"tooltip\" data-bs-original-title=\"Edit product\">\n                    <i class=\"fas fa-user-edit text-secondary\" aria-hidden=\"true\"></i>\n                  </a>\n                  <a href=\"javascript:;\" data-bs-toggle=\"tooltip\" data-bs-original-title=\"Delete product\">\n                    <i class=\"fas fa-trash text-secondary\" aria-hidden=\"true\"></i>\n                  </a>\n                </span>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <b-card-footer class=\"py-4 d-flex justify-content-end\">\n      <base-pagination v-model=\"currentPage\" :per-page=\"10\" :total=\"50\"></base-pagination>\n    </b-card-footer>\n    <add-role-modal :trigger=\"activate\" @opened=\"deactivate\"/>\n\n  </b-card>\n</template>\n<script>\nimport { Table, TableColumn} from 'element-ui';\nimport Resource from \"../../../api/resource\";\nimport VueElementLoading from \"vue-element-loading\";\nimport addRoleModal from \"../../../components/Modals/addRoleModal\";\n\nconst roleResource = new Resource('roles');\nexport default {\n  name: 'roles-list',\n  components: {\n    [Table.name]: Table,\n    [TableColumn.name]: TableColumn,\n    VueElementLoading,\n    addRoleModal\n  },\n  data() {\n    return {\n      activate: false,\n      list: [],\n      currentPage: 1,\n      show: false,\n    };\n  },\n  created() {\n    this.getRoles();\n  },\n  methods: {\n    deactivate(){\n      this.activate = false;\n    },\n    triggerModal(){\n      this.activate = true;\n    },\n    getRoles(){\n      this.show = true;\n      roleResource.list()\n      .then((response) => {\n        this.list = response.data;\n      })\n      .catch((error)=> {\n        console.log(error);\n      })\n      .finally(() => {\n        this.show = false;\n        console.log('DONE');\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.text-secondary {\n  color: #8392ab!important;\n}\n.btn-default {\n  color: #fff;\n  background-color: #5e72e4;\n  border-color: #5e72e4;\n  -webkit-box-shadow: 0 4px 6px rgb(50 50 93 / 11%), 0 1px 3px rgb(0 0 0 / 8%);\n  box-shadow: 0 4px 6px rgb(50 50 93 / 11%), 0 1px 3px rgb(0 0 0 / 8%);\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table_roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table_roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./table_roles.vue?vue&type=template&id=fecdd148&scoped=true&\"\nimport script from \"./table_roles.vue?vue&type=script&lang=js&\"\nexport * from \"./table_roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./table_roles.vue?vue&type=style&index=0&id=fecdd148&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fecdd148\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <base-header class=\"pb-6 pb-8 pt-5 pt-md-8 bg-gradient-success\">\n      <!-- Card stats -->\n    </base-header>\n    <b-container fluid class=\"mt--7\">\n      <b-row>\n        <b-col>\n          <roles-list/>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n<script>\n  import { Dropdown, DropdownItem, DropdownMenu, Table, TableColumn } from 'element-ui';\n  import projects from \"../Tables/projects\";\n  import RolesList from \"../Tables/RegularTables/table_roles\";\n  export default {\n    name: 'roles',\n    components: {\n      RolesList,\n      [Dropdown.name]: Dropdown,\n      [DropdownItem.name]: DropdownItem,\n      [DropdownMenu.name]: DropdownMenu,\n      [Table.name]: Table,\n      [TableColumn.name]: TableColumn\n    },\n    data() {\n      return {\n        projects,\n      };\n    },\n    created() {\n      console.log('Kouili');\n    }\n  };\n</script>\n<style>\n.el-table.table-dark{\n  background-color: #172b4d;\n  color: #f8f9fe;\n}\n\n.el-table.table-dark th,\n.el-table.table-dark tr{\n  background-color: #172b4d;\n}\n\n.el-table.table-dark td,\n.el-table.table-dark th.is-leaf{\n  border-bottom: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=e428a5ee&\"\nimport script from \"./Roles.vue?vue&type=script&lang=js&\"\nexport * from \"./Roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Roles.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}